resources:
  - name: myRepo_native
    type: GITRepo
    configuration:
      path: deepikasl/jfrog_pipelines
      gitProvider: deepikaGithub
      branches:
        include: master

pipelines:
  - name: myPipeline_native_write
    steps:
      - name: first_step
        type: Bash
        configuration:
          integrations:
            - name: {{.jfrog-pipelines.localArtifactory}}
        execution:
          onExecute:
            - echo "first_step"
            - echo "$JFROG_LOCAL_ARTIFACTORY_TOKEN"
            - jfrog config add jftest --url http://2f43-136-226-244-117.ngrok.io --access-token ${JFROG_LOCAL_ARTIFACTORY_TOKEN}
            - jfrog rt dl example-repo-local --server-id http://2f43-136-226-244-117.ngrok.io --flat
            - touch test.txt
            - echo "hello" > test.txt
            - jfrog rt upload test.txt example-repo-local/test.txt
      - name: second_step
        type: Bash   
        configuration:
          inputSteps:
            - name: first_step
        execution:
          onExecute:
            - echo "second_step"
            - echo "$JFROG_LOCAL_ARTIFACTORY_TOKEN"
