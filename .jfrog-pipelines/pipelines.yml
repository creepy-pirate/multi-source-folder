resources:
  - name: public_submodule
    type: GITRepo
    configuration:
      path: deepikasl/multi-source-folder
      gitProvider: deepikaGithub
      branches:
        include: submodule_vt1
      recurseSubmodules: true
  - name: private_submodule
    type: GITRepo
    configuration:
      path: deepikasl/multi-source-folder
      gitProvider: deepikaGithub
      branches:
        include: submodule_provate
      recurseSubmodules: true

  - name: propertyBag
    type: PropertyBag
    configuration:
      foo: bar
      foo1: bar1
      foo2: bar2

pipelines:
  - name: demo_manual
    configuration:
      integrations:
        - name: deepikaGithub
    steps:
      - name: manual_trigger
        type: Bash
        configuration:
          inputResources:
            - name: public_submodule
            - name: private_submodule
          outputResources:
            - name: propertyBag
          integrations:
            - name: deepikaGithub
        execution:
          onExecute:
            - pushd $res_public_submodule_resourcePath
            - ls
            - cd vt1_submodule
            - ls
            - popd
            - pushd $res_private_submodule_resourcePath
            - ls
            - popd
            
